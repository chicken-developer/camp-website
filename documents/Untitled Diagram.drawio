<mxfile host="app.diagrams.net" modified="2021-08-19T03:26:20.082Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36" etag="gbNvV3oQCh3Cpo_7f9tL" version="14.9.7" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1416" dy="1921" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="51aDSxTkQ22pYN6QrdHl-0" value="Scroller User" style="swimlane;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-320" y="-30" width="230" height="80" as="geometry" />
        </mxCell>
        <mxCell id="51aDSxTkQ22pYN6QrdHl-1" value="stateMachine: ScrollerStateMachine" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="51aDSxTkQ22pYN6QrdHl-0" vertex="1">
          <mxGeometry x="10" y="40" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="51aDSxTkQ22pYN6QrdHl-2" value="" style="endArrow=classic;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-220" y="60" as="sourcePoint" />
            <mxPoint x="-220" y="130" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-220" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="51aDSxTkQ22pYN6QrdHl-4" value="ScrollerStateMachine" style="swimlane;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-330" y="160" width="230" height="310" as="geometry" />
        </mxCell>
        <mxCell id="51aDSxTkQ22pYN6QrdHl-6" value="gameRounData: ScrollGameRounData" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="51aDSxTkQ22pYN6QrdHl-4" vertex="1">
          <mxGeometry x="5" y="30" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="51aDSxTkQ22pYN6QrdHl-8" value="bindState()&lt;br&gt;{&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;   createJoinGameState()*&lt;br&gt;   createResumeState()*&lt;br&gt;   createSpinState()*&lt;br&gt;   createEndSpinState()*&lt;br&gt;   createGameOverState()*&lt;br/&gt;   createEndRoundState()*&lt;br/&gt;   createFreeGameState()&lt;br/&gt;   createBonusGameState()&lt;br/&gt;   createFeverGameState()&lt;br/&gt;   createRespinGameState()&lt;br/&gt;   createGambleState()&lt;br/&gt;   createJackpotState()&lt;br&gt;&lt;/span&gt;}" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="51aDSxTkQ22pYN6QrdHl-4" vertex="1">
          <mxGeometry x="10" y="60" width="160" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-0" value="saveReplay()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="51aDSxTkQ22pYN6QrdHl-4">
          <mxGeometry y="280" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-1" value="JoinGameState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="-350" width="290" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-2" value="balanceStore&lt;br&gt;replayStore&lt;br&gt;sfsExtension&lt;br&gt;scrollerLastResultStore: IScrollerLastResultStore" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-1">
          <mxGeometry x="10" y="30" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-3" value="onEnter()&lt;br&gt;onExit()&lt;br&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-1">
          <mxGeometry x="10" y="110" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-4" value="JoinGameStateRespin(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="370" y="-360" width="290" height="150" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-5" value="replayStore&lt;br&gt;respinCalculator: IRespinResultCalculator&lt;br&gt;gameRoundData&lt;br&gt;backupReplayData: Map&amp;lt;String, String?&amp;gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-4">
          <mxGeometry x="10" y="30" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-6" value="packReplayData()&lt;br&gt;onExit()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-4">
          <mxGeometry x="10" y="110" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-7" value="ResumeState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="-170" width="290" height="240" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-8" value="stateId: Int&lt;br&gt;dataSender: IDataSender&lt;br&gt;resumeAction = createResumeAction()&lt;br&gt;skipAction = createSkipAction()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-7">
          <mxGeometry x="10" y="30" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-9" value="handle()&lt;br&gt;createResumeAction()&lt;br&gt;createSkipAction()&lt;br&gt;onEnter()&lt;br&gt;onExit()&lt;br&gt;registeAction()&lt;br&gt;formatTo()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-7">
          <mxGeometry x="10" y="110" width="130" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-10" value="SpinState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="100" width="470" height="240" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-11" value="uniqueNumberProvider: UniqueNumberProviderdataSender: IDataSender&lt;br&gt;freeRoundStore: IFreeRoundStore" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-10">
          <mxGeometry x="10" y="45" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-12" value="init(){registerAction(ScrollerGameCommand.SPIN_REQUEST, createSpinAction())}" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-10">
          <mxGeometry x="10" y="110" width="460" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-13" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;createSpinAction()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;onEnter()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;onExit()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;sendNewRound()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;buildFreeRoundData()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;createFreeRoundData&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-10">
          <mxGeometry x="10" y="140" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-14" value="EndSpinState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="25" y="370" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-16" value="onEnter()&lt;br&gt;onExit()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-14">
          <mxGeometry x="15" y="40" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-17" value="GameOverState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="490" width="570" height="240" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-18" value="scrollerStore&lt;br&gt;lastResultStore&lt;br&gt;balanceStore: IBalanceStore&lt;br&gt;replayStore&lt;br&gt;config: ConfiguarationManager&lt;br&gt;retryTimes = config.getInt(ServerConfigurations.Group, GameOverRedisRetryTime, DefaultRetryTime)" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-17">
          <mxGeometry x="10" y="20" width="560" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-19" value="init(){registerAction(ScrollerGameCommand.SPIN_REQUEST, createCollectPointAction())}" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-17">
          <mxGeometry x="10" y="120" width="500" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-20" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;onEnter()&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;updateWinPoint()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;onExit()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;saveTransaction()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;logDetailRedisException&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-17">
          <mxGeometry x="10" y="150" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-21" value="EndRoundState(sm: ScrollerStateMachine)" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="20" y="770" width="515" height="130" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-22" value="init(){registerAction(ScrollerGameCommand.SPIN_REQUEST, createCollectPointAction())}&lt;br&gt;&lt;br&gt;createCollectJackpotAction()&lt;br&gt;onEnter()&lt;br&gt;onExit()" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="ZwT0vpusaRzmzd89078X-21">
          <mxGeometry x="10" y="30" width="500" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-24" value="ResumeAction" style="swimlane;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="370" y="-170" width="290" height="240" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-29" value="TODO" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="465" y="-70" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-42" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="330" as="sourcePoint" />
            <mxPoint y="-280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-50" y="-280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-46" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="-50" as="sourcePoint" />
            <mxPoint y="-50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-47" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="-40" as="sourcePoint" />
            <mxPoint x="350" y="-40" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-48" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="200" as="sourcePoint" />
            <mxPoint y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-49" value="" style="endArrow=none;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-90" y="290" as="sourcePoint" />
            <mxPoint x="-50" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-50" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="330" as="sourcePoint" />
            <mxPoint x="-10" y="840" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-50" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-51" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="420" as="sourcePoint" />
            <mxPoint x="-10" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZwT0vpusaRzmzd89078X-52" value="" style="endArrow=classic;html=1;align=left;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-50" y="610" as="sourcePoint" />
            <mxPoint x="-10" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
