"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ModalFooter;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _core = require("@emotion/core");

var _customThemeButton = _interopRequireDefault(require("@atlaskit/button/custom-theme-button"));

var _content = require("../styles/content");

/** @jsx jsx */
function ModalFooter(props) {
  var actions = props.actions,
      appearance = props.appearance,
      component = props.component,
      onClose = props.onClose,
      testId = props.testId;
  var warning = 'You can provide `component` OR `actions`, not both.';

  if (!component && !actions) {
    return null;
  }

  if (component && actions) {
    console.warn(warning); // eslint-disable-line no-console

    return null;
  }

  if (component) {
    return /*#__PURE__*/_react.default.createElement(component, {
      appearance: appearance,
      onClose: onClose
    });
  }

  return (0, _core.jsx)("div", {
    css: _content.internalFooterStyles,
    "data-testid": testId && "".concat(testId, "--footer")
  }, actions && actions.map(function (_ref, index) {
    var text = _ref.text,
        rest = (0, _objectWithoutProperties2.default)(_ref, ["text"]);
    return (0, _core.jsx)(_customThemeButton.default, (0, _extends2.default)({
      key: index,
      appearance: index !== 0 ? 'subtle' : appearance || 'primary',
      "data-ds--modal-dialog--action": true,
      testId: testId && "".concat(testId, "--action-").concat(index)
    }, rest), text);
  }));
}