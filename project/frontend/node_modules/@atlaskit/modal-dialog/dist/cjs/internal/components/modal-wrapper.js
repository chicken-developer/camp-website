"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ModalWrapper;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _noop = _interopRequireDefault(require("@atlaskit/ds-lib/noop"));

var _portal = _interopRequireDefault(require("@atlaskit/portal"));

var _constants = require("@atlaskit/theme/constants");

var _useModalStack = _interopRequireDefault(require("../hooks/use-modal-stack"));

var _modal = _interopRequireDefault(require("./modal"));

function ModalWrapper(_ref) {
  var _ref$autoFocus = _ref.autoFocus,
      autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,
      _ref$scrollBehavior = _ref.scrollBehavior,
      scrollBehavior = _ref$scrollBehavior === void 0 ? 'inside' : _ref$scrollBehavior,
      _ref$shouldCloseOnEsc = _ref.shouldCloseOnEscapePress,
      shouldCloseOnEscapePress = _ref$shouldCloseOnEsc === void 0 ? true : _ref$shouldCloseOnEsc,
      _ref$shouldCloseOnOve = _ref.shouldCloseOnOverlayClick,
      shouldCloseOnOverlayClick = _ref$shouldCloseOnOve === void 0 ? true : _ref$shouldCloseOnOve,
      _ref$isChromeless = _ref.isChromeless,
      isChromeless = _ref$isChromeless === void 0 ? false : _ref$isChromeless,
      _ref$width = _ref.width,
      width = _ref$width === void 0 ? 'medium' : _ref$width,
      _ref$isHeadingMultili = _ref.isHeadingMultiline,
      isHeadingMultiline = _ref$isHeadingMultili === void 0 ? true : _ref$isHeadingMultili,
      _ref$onClose = _ref.onClose,
      onClose = _ref$onClose === void 0 ? _noop.default : _ref$onClose,
      stackIndexOverride = _ref.stackIndex,
      _ref$onStackChange = _ref.onStackChange,
      onStackChange = _ref$onStackChange === void 0 ? _noop.default : _ref$onStackChange,
      children = _ref.children,
      props = (0, _objectWithoutProperties2.default)(_ref, ["autoFocus", "scrollBehavior", "shouldCloseOnEscapePress", "shouldCloseOnOverlayClick", "isChromeless", "width", "isHeadingMultiline", "onClose", "stackIndex", "onStackChange", "children"]);
  var stackIndex = (0, _useModalStack.default)({
    onStackChange: onStackChange
  });
  return /*#__PURE__*/_react.default.createElement(_portal.default, {
    zIndex: _constants.layers.modal()
  }, /*#__PURE__*/_react.default.createElement(_modal.default, (0, _extends2.default)({}, props, {
    autoFocus: autoFocus,
    scrollBehavior: scrollBehavior,
    shouldCloseOnEscapePress: shouldCloseOnEscapePress,
    shouldCloseOnOverlayClick: shouldCloseOnOverlayClick,
    isChromeless: isChromeless,
    width: width,
    isHeadingMultiline: isHeadingMultiline,
    onClose: onClose,
    stackIndex: stackIndexOverride || stackIndex
  }), children));
}